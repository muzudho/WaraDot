# わらドット

ドット絵エディターをこれから作るところ。

# 実行に必要な準備

## NLua ライブラリの入手
取得元 https://github.com/NLua/NLua

.NET Pure C# 版をクリック
NLua.NoPInvoke.zip をダウンロード
その中の net45 フォルダーの中に

  - KopiLua.dll
  - NLua.dll

がある。

## 参照の追加
Visual Studio 2017 のソリューション エクスプローラーから、[参照] - [参照の追加] で
参照マネーシャーを出す。

[参照]ボタンをクリック。
NLua.dll と、 KopiLua.dll を選択。

## 64bitに設定
ツールバーの[Any CPU]をクリックして 構成マネージャーを出す。
[アクティブ ソリューション プラットフォーム]をクリックし[新規作成]を選択。


# 作業用フォルダーの作成
bin/x64/Debug の下（.exeがあるところ）に Work フォルダーを丸ごと移動させてください。

# キー説明

|||
|---|---|
|[Ctrl]+[S]|保存<br/>保存先: WaraDot.png 固定|
|[Ctrl]+マウスムーブ|キャンバスをずらす|
|マウスホイール上|拡大|
|マウスホイール下|縮小|
|右クリック|スポイト。絵から色を取得|

# 設定ファイル(WaraDot.lua)を使った操作

[設定再読込]ボタンを押すと反映される

|用途|変数|説明|
|---|---|---|
|レイヤー切替|DRAWING_LAYER|レイヤー1に書き込むならDRAWING_LAYER = 1と設定する|
|レイヤー表示／非表示|LAYERS_VISIBLE|レイヤー1を非表示にするならLAYERS_VISIBLE[1] = false|

# アルゴリズム

選択範囲の矩形の中だけに有効です。

